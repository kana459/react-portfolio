import React, { useEffect, useState } from 'react'
import image from '../images/preimage.jpg'
import TopAbout from './TopAbout.jsx'
import SkillPage from './SkillPage.jsx'
import { Link } from 'react-router-dom'
import axios from 'axios'

const HomePage = () => {
  const [contents, setcontents] = useState([])

  useEffect(() => {
    axios
      .get('https://mugireact.microcms.io/api/v1/blogs', {
        headers: {
          // 'X-API-KEY': process.env.REACT_APP_POSIPAN_API_KEY,
        },
      })
      .then((response) => {
        setcontents(response.data.contents)
      }) //then=正常で作動
      .catch((error) => console.error('Error:', error))
  }, []) //[]で最初のrender時に実行 指定無し＝render毎に実行されるので✖️

  return (
    <main>
      <section id="worksSec">
        <h2>Works</h2>
        <div className="worksList">
          {contents.map((content) => (
            <article key={content.id}>
              <Link to={`/${content.id}`}>
                <div className="thumbnail">
                  <img src={content.mainImage.url} alt="" />
                </div>
              </Link>
            </article>
          ))}
        </div>
      </section>
      <TopAbout />
      <SkillPage />

      <div className="sns">
        <div className="insta">
          <svg className="insta-svg" viewBox="0 0 44 44">
            <path
              d="M16,3A13.016,13.016,0,0,0,3,16V34A13.016,13.016,0,0,0,16,47H34A13.016,13.016,0,0,0,47,34V16A13.016,13.016,0,0,0,34,3Zm0,2H34A10.985,10.985,0,0,1,45,16V34A10.986,10.986,0,0,1,34,45H16A10.985,10.985,0,0,1,5,34V16A10.985,10.985,0,0,1,16,5Zm21,6a2,2,0,1,0,2,2A2,2,0,0,0,37,11ZM25,14A11,11,0,1,0,36,25,11.015,11.015,0,0,0,25,14Zm0,2a9,9,0,1,1-9,9A8.985,8.985,0,0,1,25,16Z"
              transform="translate(-3 -3)"
            />
          </svg>
        </div>

        <div className="line">
          <svg className="line-svg" viewBox="0 0 42 42">
            <path
              d="M9,4A5.015,5.015,0,0,0,4,9V41a5.015,5.015,0,0,0,5,5H41a5.015,5.015,0,0,0,5-5V9a5.015,5.015,0,0,0-5-5ZM9,6H41a2.985,2.985,0,0,1,3,3V41a2.985,2.985,0,0,1-3,3H9a2.985,2.985,0,0,1-3-3V9A2.985,2.985,0,0,1,9,6Zm16,4C16.3,10,9,15.678,9,22.947,9,29.432,14.784,34.7,22.336,35.713h0a2.954,2.954,0,0,1,.563.174.185.185,0,0,1,.039.023,5.69,5.69,0,0,1-.016.75c-.01.056-.173,1.025-.207,1.217v0a1.744,1.744,0,0,0,.232,1.49,1.627,1.627,0,0,0,1.141.658,2.677,2.677,0,0,0,1.3-.262,38.468,38.468,0,0,0,5.488-3.283,38.1,38.1,0,0,0,6.645-5.512A11.617,11.617,0,0,0,41,22.947C41,15.679,33.7,10,25,10Zm0,2c7.839,0,14,5.041,14,10.947a9.433,9.433,0,0,1-2.947,6.668l-.01.01-.008.01a37.209,37.209,0,0,1-6.287,5.2,42.881,42.881,0,0,1-5,3.01l.15-.883,0-.018,0-.018a3.208,3.208,0,0,0-.113-1.838v0a1.887,1.887,0,0,0-1.041-1,4.489,4.489,0,0,0-1-.32l-.039-.01-.041,0C15.849,32.858,11,28.251,11,22.947,11,17.04,17.161,12,25,12Zm-1.008,7A1,1,0,0,0,23,20v6a1,1,0,0,0,2,0V23.121l2.186,3.459A1,1,0,0,0,29,26V20a1,1,0,0,0-2,0v3l-2.186-3.58A.974.974,0,0,0,23.992,19ZM15,19a1,1,0,0,0-1,1v6a1,1,0,0,0,1,1h3a1,1,0,0,0,0-2H16V20A1,1,0,0,0,15,19Zm6,0a1,1,0,0,0-1,1v6a1,1,0,0,0,2,0V20A1,1,0,0,0,21,19Zm10,0a1,1,0,0,0-1,1v6a1,1,0,0,0,1,1h3a1,1,0,0,0,0-2H32V24h2a1,1,0,0,0,0-2H32V21h2a1,1,0,0,0,0-2Z"
              transform="translate(-4 -4)"
            />
          </svg>
        </div>
      </div>

      <div className="deco">
        <svg className="deco-svg" viewBox="0 0 86.91 47.69">
          <g transform="translate(-596.545 -3012.516)">
            <path
              d="M13.818,18.863A9.695,9.695,0,1,1,19.826,6.538a9.694,9.694,0,0,1-6.007,12.324m14.81-8.033A4.155,4.155,0,1,1,31.2,5.547a4.156,4.156,0,0,1-2.575,5.282M25.412,21.9a4.155,4.155,0,1,1,2.574-5.282A4.155,4.155,0,0,1,25.412,21.9m-8.868,6.572a4.155,4.155,0,1,1,2.574-5.282,4.156,4.156,0,0,1-2.574,5.282m-11.035.287a4.155,4.155,0,1,1,2.574-5.282,4.155,4.155,0,0,1-2.574,5.282"
              transform="matrix(0.883, -0.469, 0.469, 0.883, 596.545, 3027.272)"
              fill="#311717"
            />
            <path
              d="M12,16.377a8.417,8.417,0,1,1,5.216-10.7A8.417,8.417,0,0,1,12,16.377M24.856,9.4a3.607,3.607,0,1,1,2.236-4.586A3.608,3.608,0,0,1,24.856,9.4m-2.792,9.611A3.607,3.607,0,1,1,24.3,14.428a3.607,3.607,0,0,1-2.235,4.586m-7.7,5.706A3.607,3.607,0,1,1,16.6,20.133a3.608,3.608,0,0,1-2.235,4.586m-9.581.249a3.607,3.607,0,1,1,2.235-4.586,3.608,3.608,0,0,1-2.235,4.586"
              transform="matrix(0.883, -0.469, 0.469, 0.883, 647.545, 3037.986)"
              fill="#311717"
            />
          </g>
        </svg>
      </div>
    </main>
  )
}

export default HomePage
